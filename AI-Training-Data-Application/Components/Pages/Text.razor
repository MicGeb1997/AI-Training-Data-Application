@page "/"

<PageTitle>Text hinzufügen</PageTitle>

@if (Categories == null)
{
    <p>
        <em>Laden...</em>
    </p>
}
else
{
    <EditForm Model="TextObject" OnValidSubmit="HandleSubmit" FormName="testForm" class="p-4 border rounded">
        <DataAnnotationsValidator />
        <div class="d-flex justify-content-between">
            <div class="form-group mr-3" style="flex-basis: 65%;">
                <label for="textString">Text:</label>
                <InputTextArea id="textString" @bind-Value="TextObject!.TextString" class="form-control" style="height: 300px;"/>
            </div>
            <div class="d-flex flex-column justify-content-between" style="flex-basis: 30%;">
                <div class="form-group">
                    <label for="categoryIds">Wählen Sie die Kategorien aus:</label>
                    <InputSelect id="categoryIds" @bind-Value="TextObject!.CategoryIds" class="form-control" multiple>
                        @foreach (var category in Categories)
                        {
                            <option value="@category.Id">@category.Name</option>
                        }
                    </InputSelect>
                </div>
                <button type="submit" class="btn btn-primary mt-3" style="align-self: flex-end; margin-top: auto;">Text hinzufügen</button>
            </div>
        </div>
    </EditForm>
}